"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var t=function t(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(t){return{text:t}};if(n(this,t),!e)throw new Error("MirrorInput requires an element argument.");e.getAttribute&&(this.origin=e,this.copy="",this.spaces=null,this.editMode=!1,this.onUpdate=i,this.onOver=!1,this.actualValue=null,this.create())};t.prototype.update=function(){if(this.origin.value){this.origin.setAttribute("actualValue",this.origin.value),this.actualValue=this.origin.value;var t=this.onUpdate(this.origin.value),e=t.text;t.spaces&&(this.spaces=t.spaces),this.copy=e}else this.copy=""},t.prototype.swap=function(){var t=this.copy;this.copy=this.origin.value,this.origin.value=t},t.prototype.create=function(){var t=this;function i(t,e){var i;t.createTextRange?((i=t.createTextRange()).move("character",e),i.select()):(t.focus(),void 0!==t.selectionStart&&t.setSelectionRange(e,e))}var e,n=this,o=this.editMode,a=this.origin;a.onblur=function(){o&&(o=!1,n.update(),n.swap())},a.onkeyup=function(){return n.update()},a.onchange=function(){return n.update()},this.update(),n.swap(),e=["number","email","date"].includes(a.type)?function(){o||(o=!0,n.swap(),a.focus())}:function(t){if(!o){o=!0;var e=t.target.selectionStart;n.swap(),n.spaces?i(a,(n.spaces.slice(0,e).match(/1/g)||[]).length):i(a,e)}},a.onmouseup=e,a.onmouseover=function(){t.onOver=!0},a.onmouseout=function(){t.onOver=!1},a.onfocus=function(){o||t.onOver||(o=!0,n.swap())}};