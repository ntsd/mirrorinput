"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var t=function t(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(t){return{text:t}};if(s(this,t),!e)throw new Error("MirrorInput requires an element argument.");e.getAttribute&&(this.origin=e,this.parent=null,this.copy=null,this.spaces=null,this.onUpdate=i,this.create())};t.prototype.update=function(){if(this.origin.value){var t=this.onUpdate(this.origin.value),e=t.text;t.spaces&&(this.spaces=t.spaces),this.copy.value=e}},t.prototype.create=function(){var i=this;function s(t,e){var i;t.createTextRange?((i=t.createTextRange()).move("character",e),i.select()):(t.focus(),void 0!==t.selectionStart&&t.setSelectionRange(e,e))}var n=this.origin;this.copy=n.cloneNode(!0),this.copy.id=this.copy.id+"Copy",this.copy.classList.add("mirrorinput-clone"),this.copy.type="text",this.copy.autocomplete="off",this.copy.style["margin-top"]="-"+n.offsetHeight+"px",["number","email","date"].includes(n.type)?this.copy.classList.add("mirrorinput-no-pointer"):this.copy.addEventListener("mouseup",function(t){var e=t.target.selectionStart;i.spaces?s(n,(i.spaces.slice(0,e).match(/1/g)||[]).length):s(n,e)}),n.classList.add("mirrorinput"),this.parent=document.createElement("div"),this.parent.classList.add("mirrorinput-parent"),n.parentNode.insertBefore(this.parent,n),this.parent.appendChild(n),this.parent.appendChild(this.copy),this.update();var t=this;n.onkeyup=function(){t.update()}};